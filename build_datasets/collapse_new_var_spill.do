*Purpose: count the neighbors by treatment within different distances

clear all

cd "$repository/data_sets/generated"

use neighbor_count_by_oriassessments_dummies_Fatemeh_all_years

*set radii
local distance "250 " 

foreach d of local distance {

	*clear all 
	*cd "$repository/data_sets/generated"
	*use neighbor_count_by_oriassessments_dummies_Fatemeh_all_years

	drop if total_meters > `d'

	collapse (sum) pre_cash mid_cash post_cash sl_cash pre_cogx mid_cogx post_cogx ///
	sl_cogx pre_college mid_college post_college sl_college pre_control mid_control ///
	 post_control sl_control pre_kinderprep mid_kinderprep post_kinderprep ///
	 sl_kinderprep pre_pka mid_pka post_pka sl_pka pre_pkb mid_pkb post_pkb ///
	 sl_pkb pre_preschool mid_preschool post_preschool sl_preschool pre_treated ///
	 mid_treated post_treated sl_treated aoy1_cash aoy2_cash aoy3_cash ///
	 aoy4_cash aoy5_cash aoy1_cogx aoy2_cogx aoy3_cogx aoy4_cogx aoy5_cogx ///
	 aoy1_college aoy2_college aoy3_college aoy4_college aoy5_college aoy1_control ///
	 aoy2_control aoy3_control aoy4_control aoy5_control aoy1_kinderprep ///
	 aoy2_kinderprep aoy3_kinderprep aoy4_kinderprep aoy5_kinderprep aoy1_pka ///
	 aoy2_pka aoy3_pka aoy4_pka aoy5_pka aoy1_pkb aoy2_pkb aoy3_pkb aoy4_pkb ///
	 aoy5_pkb aoy1_preschool aoy2_preschool aoy3_preschool aoy4_preschool ///
	 aoy5_preschool aoy1_treated aoy2_treated aoy3_treated aoy4_treated ///
	 aoy5_treated ///
     /*
	 pre_v1std_cog_cash mid_v1std_cog_cash post_v1std_cog_cash sl_v1std_cog_cash aoy1_v1std_cog_cash aoy2_v1std_cog_cash aoy3_v1std_cog_cash aoy4_v1std_cog_cash aoy5_v1std_cog_cash ///
	 pre_v2std_cog_cash mid_v2std_cog_cash post_v2std_cog_cash sl_v2std_cog_cash aoy1_v2std_cog_cash aoy2_v2std_cog_cash aoy3_v2std_cog_cash aoy4_v2std_cog_cash aoy5_v2std_cog_cash ///
     pre_v1std_cog_cogx mid_v1std_cog_cogx post_v1std_cog_cogx sl_v1std_cog_cogx aoy1_v1std_cog_cogx aoy2_v1std_cog_cogx aoy3_v1std_cog_cogx aoy4_v1std_cog_cogx aoy5_v1std_cog_cogx ///
	 pre_v2std_cog_cogx mid_v2std_cog_cogx post_v2std_cog_cogx sl_v2std_cog_cogx aoy1_v2std_cog_cogx aoy2_v2std_cog_cogx aoy3_v2std_cog_cogx aoy4_v2std_cog_cogx aoy5_v2std_cog_cogx ///
     pre_v1std_cog_college mid_v1std_cog_college post_v1std_cog_college sl_v1std_cog_college aoy1_v1std_cog_college aoy2_v1std_cog_college aoy3_v1std_cog_college aoy4_v1std_cog_college aoy5_v1std_cog_college ///
	 pre_v2std_cog_college mid_v2std_cog_college post_v2std_cog_college sl_v2std_cog_college aoy1_v2std_cog_college aoy2_v2std_cog_college aoy3_v2std_cog_college aoy4_v2std_cog_college aoy5_v2std_cog_college ///
     pre_v1std_cog_control mid_v1std_cog_control post_v1std_cog_control sl_v1std_cog_control aoy1_v1std_cog_control aoy2_v1std_cog_control aoy3_v1std_cog_control aoy4_v1std_cog_control aoy5_v1std_cog_control ///
	 pre_v2std_cog_control mid_v2std_cog_control post_v2std_cog_control sl_v2std_cog_control aoy1_v2std_cog_control aoy2_v2std_cog_control aoy3_v2std_cog_control aoy4_v2std_cog_control aoy5_v2std_cog_control ///
     pre_v1std_cog_kinderprep mid_v1std_cog_kinderprep post_v1std_cog_kinderprep sl_v1std_cog_kinderprep aoy1_v1std_cog_kinderprep aoy2_v1std_cog_kinderprep aoy3_v1std_cog_kinderprep aoy4_v1std_cog_kinderprep aoy5_v1std_cog_kinderprep ///
	 pre_v2std_cog_kinderprep mid_v2std_cog_kinderprep post_v2std_cog_kinderprep sl_v2std_cog_kinderprep aoy1_v2std_cog_kinderprep aoy2_v2std_cog_kinderprep aoy3_v2std_cog_kinderprep aoy4_v2std_cog_kinderprep aoy5_v2std_cog_kinderprep ///
     pre_v1std_cog_pka mid_v1std_cog_pka post_v1std_cog_pka sl_v1std_cog_pka aoy1_v1std_cog_pka aoy2_v1std_cog_pka aoy3_v1std_cog_pka aoy4_v1std_cog_pka aoy5_v1std_cog_pka ///
	 pre_v2std_cog_pka mid_v2std_cog_pka post_v2std_cog_pka sl_v2std_cog_pka aoy1_v2std_cog_pka aoy2_v2std_cog_pka aoy3_v2std_cog_pka aoy4_v2std_cog_pka aoy5_v2std_cog_pka ///
     pre_v1std_cog_pkb mid_v1std_cog_pkb post_v1std_cog_pkb sl_v1std_cog_pkb aoy1_v1std_cog_pkb aoy2_v1std_cog_pkb aoy3_v1std_cog_pkb aoy4_v1std_cog_pkb aoy5_v1std_cog_pkb ///
	 pre_v2std_cog_pkb mid_v2std_cog_pkb post_v2std_cog_pkb sl_v2std_cog_pkb aoy1_v2std_cog_pkb aoy2_v2std_cog_pkb aoy3_v2std_cog_pkb aoy4_v2std_cog_pkb aoy5_v2std_cog_pkb ///
     pre_v1std_cog_preschool mid_v1std_cog_preschool post_v1std_cog_preschool sl_v1std_cog_preschool aoy1_v1std_cog_preschool aoy2_v1std_cog_preschool aoy3_v1std_cog_preschool aoy4_v1std_cog_preschool aoy5_v1std_cog_preschool ///
	 pre_v2std_cog_preschool mid_v2std_cog_preschool post_v2std_cog_preschool sl_v2std_cog_preschool aoy1_v2std_cog_preschool aoy2_v2std_cog_preschool aoy3_v2std_cog_preschool aoy4_v2std_cog_preschool aoy5_v2std_cog_preschool ///
     pre_v1std_cog_treated mid_v1std_cog_treated post_v1std_cog_treated sl_v1std_cog_treated aoy1_v1std_cog_treated aoy2_v1std_cog_treated aoy3_v1std_cog_treated aoy4_v1std_cog_treated aoy5_v1std_cog_treated ///
	 pre_v2std_cog_treated mid_v2std_cog_treated post_v2std_cog_treated sl_v2std_cog_treated aoy1_v2std_cog_treated aoy2_v2std_cog_treated aoy3_v2std_cog_treated aoy4_v2std_cog_treated aoy5_v2std_cog_treated /// 
     mispre_v1std_cog_cash mismid_v1std_cog_cash mispost_v1std_cog_cash missl_v1std_cog_cash misaoy1_v1std_cog_cash misaoy2_v1std_cog_cash misaoy3_v1std_cog_cash misaoy4_v1std_cog_cash misaoy5_v1std_cog_cash ///
	 mispre_v2std_cog_cash mismid_v2std_cog_cash mispost_v2std_cog_cash missl_v2std_cog_cash misaoy1_v2std_cog_cash misaoy2_v2std_cog_cash misaoy3_v2std_cog_cash misaoy4_v2std_cog_cash misaoy5_v2std_cog_cash ///
     mispre_v1std_cog_cogx mismid_v1std_cog_cogx mispost_v1std_cog_cogx missl_v1std_cog_cogx misaoy1_v1std_cog_cogx misaoy2_v1std_cog_cogx misaoy3_v1std_cog_cogx misaoy4_v1std_cog_cogx misaoy5_v1std_cog_cogx ///
	 mispre_v2std_cog_cogx mismid_v2std_cog_cogx mispost_v2std_cog_cogx missl_v2std_cog_cogx misaoy1_v2std_cog_cogx misaoy2_v2std_cog_cogx misaoy3_v2std_cog_cogx misaoy4_v2std_cog_cogx misaoy5_v2std_cog_cogx ///
     mispre_v1std_cog_college mismid_v1std_cog_college mispost_v1std_cog_college missl_v1std_cog_college misaoy1_v1std_cog_college misaoy2_v1std_cog_college misaoy3_v1std_cog_college misaoy4_v1std_cog_college misaoy5_v1std_cog_college ///
	 mispre_v2std_cog_college mismid_v2std_cog_college mispost_v2std_cog_college missl_v2std_cog_college misaoy1_v2std_cog_college misaoy2_v2std_cog_college misaoy3_v2std_cog_college misaoy4_v2std_cog_college misaoy5_v2std_cog_college ///
     mispre_v1std_cog_control mismid_v1std_cog_control mispost_v1std_cog_control missl_v1std_cog_control misaoy1_v1std_cog_control misaoy2_v1std_cog_control misaoy3_v1std_cog_control misaoy4_v1std_cog_control misaoy5_v1std_cog_control ///
	 mispre_v2std_cog_control mismid_v2std_cog_control mispost_v2std_cog_control missl_v2std_cog_control misaoy1_v2std_cog_control misaoy2_v2std_cog_control misaoy3_v2std_cog_control misaoy4_v2std_cog_control misaoy5_v2std_cog_control ///
     mispre_v1std_cog_kinderprep mismid_v1std_cog_kinderprep mispost_v1std_cog_kinderprep missl_v1std_cog_kinderprep misaoy1_v1std_cog_kinderprep misaoy2_v1std_cog_kinderprep misaoy3_v1std_cog_kinderprep misaoy4_v1std_cog_kinderprep misaoy5_v1std_cog_kinderprep ///
	 mispre_v2std_cog_kinderprep mismid_v2std_cog_kinderprep mispost_v2std_cog_kinderprep missl_v2std_cog_kinderprep misaoy1_v2std_cog_kinderprep misaoy2_v2std_cog_kinderprep misaoy3_v2std_cog_kinderprep misaoy4_v2std_cog_kinderprep misaoy5_v2std_cog_kinderprep ///
     mispre_v1std_cog_pka mismid_v1std_cog_pka mispost_v1std_cog_pka missl_v1std_cog_pka misaoy1_v1std_cog_pka misaoy2_v1std_cog_pka misaoy3_v1std_cog_pka misaoy4_v1std_cog_pka misaoy5_v1std_cog_pka ///
	 mispre_v2std_cog_pka mismid_v2std_cog_pka mispost_v2std_cog_pka missl_v2std_cog_pka misaoy1_v2std_cog_pka misaoy2_v2std_cog_pka misaoy3_v2std_cog_pka misaoy4_v2std_cog_pka misaoy5_v2std_cog_pka ///
     mispre_v1std_cog_pkb mismid_v1std_cog_pkb mispost_v1std_cog_pkb missl_v1std_cog_pkb misaoy1_v1std_cog_pkb misaoy2_v1std_cog_pkb misaoy3_v1std_cog_pkb misaoy4_v1std_cog_pkb misaoy5_v1std_cog_pkb ///
	 mispre_v2std_cog_pkb mismid_v2std_cog_pkb mispost_v2std_cog_pkb missl_v2std_cog_pkb misaoy1_v2std_cog_pkb misaoy2_v2std_cog_pkb misaoy3_v2std_cog_pkb misaoy4_v2std_cog_pkb misaoy5_v2std_cog_pkb /// 
     mispre_v1std_cog_preschool mismid_v1std_cog_preschool mispost_v1std_cog_preschool missl_v1std_cog_preschool misaoy1_v1std_cog_preschool misaoy2_v1std_cog_preschool misaoy3_v1std_cog_preschool misaoy4_v1std_cog_preschool misaoy5_v1std_cog_preschool ///
	 mispre_v2std_cog_preschool mismid_v2std_cog_preschool mispost_v2std_cog_preschool missl_v2std_cog_preschool misaoy1_v2std_cog_preschool misaoy2_v2std_cog_preschool misaoy3_v2std_cog_preschool misaoy4_v2std_cog_preschool misaoy5_v2std_cog_preschool ///
     mispre_v1std_cog_treated mismid_v1std_cog_treated mispost_v1std_cog_treated missl_v1std_cog_treated misaoy1_v1std_cog_treated misaoy2_v1std_cog_treated misaoy3_v1std_cog_treated misaoy4_v1std_cog_treated misaoy5_v1std_cog_treated /// 
	 mispre_v2std_cog_treated mismid_v2std_cog_treated mispost_v2std_cog_treated missl_v2std_cog_treated misaoy1_v2std_cog_treated misaoy2_v2std_cog_treated misaoy3_v2std_cog_treated misaoy4_v2std_cog_treated misaoy5_v2std_cog_treated ///  
	 pre_v1std_ncog_cash mid_v1std_ncog_cash post_v1std_ncog_cash sl_v1std_ncog_cash aoy1_v1std_ncog_cash aoy2_v1std_ncog_cash aoy3_v1std_ncog_cash aoy4_v1std_ncog_cash aoy5_v1std_ncog_cash ///
	 pre_v2std_ncog_cash mid_v2std_ncog_cash post_v2std_ncog_cash sl_v2std_ncog_cash aoy1_v2std_ncog_cash aoy2_v2std_ncog_cash aoy3_v2std_ncog_cash aoy4_v2std_ncog_cash aoy5_v2std_ncog_cash ///
     pre_v1std_ncog_cogx mid_v1std_ncog_cogx post_v1std_ncog_cogx sl_v1std_ncog_cogx aoy1_v1std_ncog_cogx aoy2_v1std_ncog_cogx aoy3_v1std_ncog_cogx aoy4_v1std_ncog_cogx aoy5_v1std_ncog_cogx ///
	 pre_v2std_ncog_cogx mid_v2std_ncog_cogx post_v2std_ncog_cogx sl_v2std_ncog_cogx aoy1_v2std_ncog_cogx aoy2_v2std_ncog_cogx aoy3_v2std_ncog_cogx aoy4_v2std_ncog_cogx aoy5_v2std_ncog_cogx ///
     pre_v1std_ncog_college mid_v1std_ncog_college post_v1std_ncog_college sl_v1std_ncog_college aoy1_v1std_ncog_college aoy2_v1std_ncog_college aoy3_v1std_ncog_college aoy4_v1std_ncog_college aoy5_v1std_ncog_college ///
	 pre_v2std_ncog_college mid_v2std_ncog_college post_v2std_ncog_college sl_v2std_ncog_college aoy1_v2std_ncog_college aoy2_v2std_ncog_college aoy3_v2std_ncog_college aoy4_v2std_ncog_college aoy5_v2std_ncog_college ///
     pre_v1std_ncog_control mid_v1std_ncog_control post_v1std_ncog_control sl_v1std_ncog_control aoy1_v1std_ncog_control aoy2_v1std_ncog_control aoy3_v1std_ncog_control aoy4_v1std_ncog_control aoy5_v1std_ncog_control ///
	 pre_v2std_ncog_control mid_v2std_ncog_control post_v2std_ncog_control sl_v2std_ncog_control aoy1_v2std_ncog_control aoy2_v2std_ncog_control aoy3_v2std_ncog_control aoy4_v2std_ncog_control aoy5_v2std_ncog_control ///
     pre_v1std_ncog_kinderprep mid_v1std_ncog_kinderprep post_v1std_ncog_kinderprep sl_v1std_ncog_kinderprep aoy1_v1std_ncog_kinderprep aoy2_v1std_ncog_kinderprep aoy3_v1std_ncog_kinderprep aoy4_v1std_ncog_kinderprep aoy5_v1std_ncog_kinderprep ///
	 pre_v2std_ncog_kinderprep mid_v2std_ncog_kinderprep post_v2std_ncog_kinderprep sl_v2std_ncog_kinderprep aoy1_v2std_ncog_kinderprep aoy2_v2std_ncog_kinderprep aoy3_v2std_ncog_kinderprep aoy4_v2std_ncog_kinderprep aoy5_v2std_ncog_kinderprep ///
     pre_v1std_ncog_pka mid_v1std_ncog_pka post_v1std_ncog_pka sl_v1std_ncog_pka aoy1_v1std_ncog_pka aoy2_v1std_ncog_pka aoy3_v1std_ncog_pka aoy4_v1std_ncog_pka aoy5_v1std_ncog_pka ///
	 pre_v2std_ncog_pka mid_v2std_ncog_pka post_v2std_ncog_pka sl_v2std_ncog_pka aoy1_v2std_ncog_pka aoy2_v2std_ncog_pka aoy3_v2std_ncog_pka aoy4_v2std_ncog_pka aoy5_v2std_ncog_pka ///
     pre_v1std_ncog_pkb mid_v1std_ncog_pkb post_v1std_ncog_pkb sl_v1std_ncog_pkb aoy1_v1std_ncog_pkb aoy2_v1std_ncog_pkb aoy3_v1std_ncog_pkb aoy4_v1std_ncog_pkb aoy5_v1std_ncog_pkb ///
	 pre_v2std_ncog_pkb mid_v2std_ncog_pkb post_v2std_ncog_pkb sl_v2std_ncog_pkb aoy1_v2std_ncog_pkb aoy2_v2std_ncog_pkb aoy3_v2std_ncog_pkb aoy4_v2std_ncog_pkb aoy5_v2std_ncog_pkb ///
     pre_v1std_ncog_preschool mid_v1std_ncog_preschool post_v1std_ncog_preschool sl_v1std_ncog_preschool aoy1_v1std_ncog_preschool aoy2_v1std_ncog_preschool aoy3_v1std_ncog_preschool aoy4_v1std_ncog_preschool aoy5_v1std_ncog_preschool ///
	 pre_v2std_ncog_preschool mid_v2std_ncog_preschool post_v2std_ncog_preschool sl_v2std_ncog_preschool aoy1_v2std_ncog_preschool aoy2_v2std_ncog_preschool aoy3_v2std_ncog_preschool aoy4_v2std_ncog_preschool aoy5_v2std_ncog_preschool ///
     pre_v1std_ncog_treated mid_v1std_ncog_treated post_v1std_ncog_treated sl_v1std_ncog_treated aoy1_v1std_ncog_treated aoy2_v1std_ncog_treated aoy3_v1std_ncog_treated aoy4_v1std_ncog_treated aoy5_v1std_ncog_treated ///
	 pre_v2std_ncog_treated mid_v2std_ncog_treated post_v2std_ncog_treated sl_v2std_ncog_treated aoy1_v2std_ncog_treated aoy2_v2std_ncog_treated aoy3_v2std_ncog_treated aoy4_v2std_ncog_treated aoy5_v2std_ncog_treated /// 
     mispre_v1std_ncog_cash mismid_v1std_ncog_cash mispost_v1std_ncog_cash missl_v1std_ncog_cash misaoy1_v1std_ncog_cash misaoy2_v1std_ncog_cash misaoy3_v1std_ncog_cash misaoy4_v1std_ncog_cash misaoy5_v1std_ncog_cash ///
	 mispre_v2std_ncog_cash mismid_v2std_ncog_cash mispost_v2std_ncog_cash missl_v2std_ncog_cash misaoy1_v2std_ncog_cash misaoy2_v2std_ncog_cash misaoy3_v2std_ncog_cash misaoy4_v2std_ncog_cash misaoy5_v2std_ncog_cash ///
     mispre_v1std_ncog_cogx mismid_v1std_ncog_cogx mispost_v1std_ncog_cogx missl_v1std_ncog_cogx misaoy1_v1std_ncog_cogx misaoy2_v1std_ncog_cogx misaoy3_v1std_ncog_cogx misaoy4_v1std_ncog_cogx misaoy5_v1std_ncog_cogx ///
	 mispre_v2std_ncog_cogx mismid_v2std_ncog_cogx mispost_v2std_ncog_cogx missl_v2std_ncog_cogx misaoy1_v2std_ncog_cogx misaoy2_v2std_ncog_cogx misaoy3_v2std_ncog_cogx misaoy4_v2std_ncog_cogx misaoy5_v2std_ncog_cogx ///
     mispre_v1std_ncog_college mismid_v1std_ncog_college mispost_v1std_ncog_college missl_v1std_ncog_college misaoy1_v1std_ncog_college misaoy2_v1std_ncog_college misaoy3_v1std_ncog_college misaoy4_v1std_ncog_college misaoy5_v1std_ncog_college ///
	 mispre_v2std_ncog_college mismid_v2std_ncog_college mispost_v2std_ncog_college missl_v2std_ncog_college misaoy1_v2std_ncog_college misaoy2_v2std_ncog_college misaoy3_v2std_ncog_college misaoy4_v2std_ncog_college misaoy5_v2std_ncog_college ///
     mispre_v1std_ncog_control mismid_v1std_ncog_control mispost_v1std_ncog_control missl_v1std_ncog_control misaoy1_v1std_ncog_control misaoy2_v1std_ncog_control misaoy3_v1std_ncog_control misaoy4_v1std_ncog_control misaoy5_v1std_ncog_control ///
	 mispre_v2std_ncog_control mismid_v2std_ncog_control mispost_v2std_ncog_control missl_v2std_ncog_control misaoy1_v2std_ncog_control misaoy2_v2std_ncog_control misaoy3_v2std_ncog_control misaoy4_v2std_ncog_control misaoy5_v2std_ncog_control ///
     mispre_v1std_ncog_kinderprep mismid_v1std_ncog_kinderprep mispost_v1std_ncog_kinderprep missl_v1std_ncog_kinderprep misaoy1_v1std_ncog_kinderprep misaoy2_v1std_ncog_kinderprep misaoy3_v1std_ncog_kinderprep misaoy4_v1std_ncog_kinderprep misaoy5_v1std_ncog_kinderprep ///
	 mispre_v2std_ncog_kinderprep mismid_v2std_ncog_kinderprep mispost_v2std_ncog_kinderprep missl_v2std_ncog_kinderprep misaoy1_v2std_ncog_kinderprep misaoy2_v2std_ncog_kinderprep misaoy3_v2std_ncog_kinderprep misaoy4_v2std_ncog_kinderprep misaoy5_v2std_ncog_kinderprep ///
     mispre_v1std_ncog_pka mismid_v1std_ncog_pka mispost_v1std_ncog_pka missl_v1std_ncog_pka misaoy1_v1std_ncog_pka misaoy2_v1std_ncog_pka misaoy3_v1std_ncog_pka misaoy4_v1std_ncog_pka misaoy5_v1std_ncog_pka ///
	 mispre_v2std_ncog_pka mismid_v2std_ncog_pka mispost_v2std_ncog_pka missl_v2std_ncog_pka misaoy1_v2std_ncog_pka misaoy2_v2std_ncog_pka misaoy3_v2std_ncog_pka misaoy4_v2std_ncog_pka misaoy5_v2std_ncog_pka ///
     mispre_v1std_ncog_pkb mismid_v1std_ncog_pkb mispost_v1std_ncog_pkb missl_v1std_ncog_pkb misaoy1_v1std_ncog_pkb misaoy2_v1std_ncog_pkb misaoy3_v1std_ncog_pkb misaoy4_v1std_ncog_pkb misaoy5_v1std_ncog_pkb ///
	 mispre_v2std_ncog_pkb mismid_v2std_ncog_pkb mispost_v2std_ncog_pkb missl_v2std_ncog_pkb misaoy1_v2std_ncog_pkb misaoy2_v2std_ncog_pkb misaoy3_v2std_ncog_pkb misaoy4_v2std_ncog_pkb misaoy5_v2std_ncog_pkb ///
     mispre_v1std_ncog_preschool mismid_v1std_ncog_preschool mispost_v1std_ncog_preschool missl_v1std_ncog_preschool misaoy1_v1std_ncog_preschool misaoy2_v1std_ncog_preschool misaoy3_v1std_ncog_preschool misaoy4_v1std_ncog_preschool misaoy5_v1std_ncog_preschool ///
	 mispre_v2std_ncog_preschool mismid_v2std_ncog_preschool mispost_v2std_ncog_preschool missl_v2std_ncog_preschool misaoy1_v2std_ncog_preschool misaoy2_v2std_ncog_preschool misaoy3_v2std_ncog_preschool misaoy4_v2std_ncog_preschool misaoy5_v2std_ncog_preschool ///
     mispre_v1std_ncog_treated mismid_v1std_ncog_treated mispost_v1std_ncog_treated missl_v1std_ncog_treated misaoy1_v1std_ncog_treated misaoy2_v1std_ncog_treated misaoy3_v1std_ncog_treated misaoy4_v1std_ncog_treated misaoy5_v1std_ncog_treated ///
	 mispre_v2std_ncog_treated mismid_v2std_ncog_treated mispost_v2std_ncog_treated missl_v2std_ncog_treated misaoy1_v2std_ncog_treated misaoy2_v2std_ncog_treated misaoy3_v2std_ncog_treated misaoy4_v2std_ncog_treated misaoy5_v2std_ncog_treated /// 
     */
	 pre_mt_cash mid_mt_cash post_mt_cash sl_mt_cash aoy1_mt_cash aoy2_mt_cash aoy3_mt_cash aoy4_mt_cash aoy5_mt_cash ///
	 pre_mt_college mid_mt_college post_mt_college sl_mt_college aoy1_mt_college aoy2_mt_college aoy3_mt_college aoy4_mt_college aoy5_mt_college ///
	 pre_mt_cogx mid_mt_cogx post_mt_cogx sl_mt_cogx aoy1_mt_cogx aoy2_mt_cogx aoy3_mt_cogx aoy4_mt_cogx aoy5_mt_cogx ///
	 pre_mt_control mid_mt_control post_mt_control sl_mt_control aoy1_mt_control aoy2_mt_control aoy3_mt_control aoy4_mt_control aoy5_mt_control ///
	 pre_mt_kinderprep mid_mt_kinderprep post_mt_kinderprep sl_mt_kinderprep aoy1_mt_kinderprep aoy2_mt_kinderprep aoy3_mt_kinderprep aoy4_mt_kinderprep aoy5_mt_kinderprep ///
	 pre_mt_pka mid_mt_pka post_mt_pka sl_mt_pka aoy1_mt_pka aoy2_mt_pka aoy3_mt_pka aoy4_mt_pka aoy5_mt_pka ///
	 pre_mt_pkb mid_mt_pkb post_mt_pkb sl_mt_pkb aoy1_mt_pkb aoy2_mt_pkb aoy3_mt_pkb aoy4_mt_pkb aoy5_mt_pkb ///
	 pre_mt_preschool mid_mt_preschool post_mt_preschool sl_mt_preschool aoy1_mt_preschool aoy2_mt_preschool aoy3_mt_preschool aoy4_mt_preschool aoy5_mt_preschool ///
	 pre_mt_treated mid_mt_treated post_mt_treated sl_mt_treated aoy1_mt_treated aoy2_mt_treated aoy3_mt_treated aoy4_mt_treated aoy5_mt_treated ///
	 pre_mc_cash mid_mc_cash post_mc_cash sl_mc_cash aoy1_mc_cash aoy2_mc_cash aoy3_mc_cash aoy4_mc_cash aoy5_mc_cash ///
	 pre_mc_college mid_mc_college post_mc_college sl_mc_college aoy1_mc_college aoy2_mc_college aoy3_mc_college aoy4_mc_college aoy5_mc_college ///
	 pre_mc_cogx mid_mc_cogx post_mc_cogx sl_mc_cogx aoy1_mc_cogx aoy2_mc_cogx aoy3_mc_cogx aoy4_mc_cogx aoy5_mc_cogx ///
	 pre_mc_control mid_mc_control post_mc_control sl_mc_control aoy1_mc_control aoy2_mc_control aoy3_mc_control aoy4_mc_control aoy5_mc_control ///
	 pre_mc_kinderprep mid_mc_kinderprep post_mc_kinderprep sl_mc_kinderprep aoy1_mc_kinderprep aoy2_mc_kinderprep aoy3_mc_kinderprep aoy4_mc_kinderprep aoy5_mc_kinderprep ///
	 pre_mc_pka mid_mc_pka post_mc_pka sl_mc_pka aoy1_mc_pka aoy2_mc_pka aoy3_mc_pka aoy4_mc_pka aoy5_mc_pka ///
	 pre_mc_pkb mid_mc_pkb post_mc_pkb sl_mc_pkb aoy1_mc_pkb aoy2_mc_pkb aoy3_mc_pkb aoy4_mc_pkb aoy5_mc_pkb ///
	 pre_mc_preschool mid_mc_preschool post_mc_preschool sl_mc_preschool aoy1_mc_preschool aoy2_mc_preschool aoy3_mc_preschool aoy4_mc_preschool aoy5_mc_preschool ///
	 pre_mc_treated mid_mc_treated post_mc_treated sl_mc_treated aoy1_mc_treated aoy2_mc_treated aoy3_mc_treated aoy4_mc_treated aoy5_mc_treated,  by (origin_gecc_id randomization_ori) 

	 /*
	 pre_mtv1_cog_cash mid_mtv1_cog_cash post_mtv1_cog_cash sl_mtv1_cog_cash aoy1_mtv1_cog_cash aoy2_mtv1_cog_cash aoy3_mtv1_cog_cash aoy4_mtv1_cog_cash aoy5_mtv1_cog_cash ///
	 pre_mtv2_cog_cash mid_mtv2_cog_cash post_mtv2_cog_cash sl_mtv2_cog_cash aoy1_mtv2_cog_cash aoy2_mtv2_cog_cash aoy3_mtv2_cog_cash aoy4_mtv2_cog_cash aoy5_mtv2_cog_cash ///
     pre_mtv1_cog_cogx mid_mtv1_cog_cogx post_mtv1_cog_cogx sl_mtv1_cog_cogx aoy1_mtv1_cog_cogx aoy2_mtv1_cog_cogx aoy3_mtv1_cog_cogx aoy4_mtv1_cog_cogx aoy5_mtv1_cog_cogx ///
	 pre_mtv2_cog_cogx mid_mtv2_cog_cogx post_mtv2_cog_cogx sl_mtv2_cog_cogx aoy1_mtv2_cog_cogx aoy2_mtv2_cog_cogx aoy3_mtv2_cog_cogx aoy4_mtv2_cog_cogx aoy5_mtv2_cog_cogx ///
     pre_mtv1_cog_college mid_mtv1_cog_college post_mtv1_cog_college sl_mtv1_cog_college aoy1_mtv1_cog_college aoy2_mtv1_cog_college aoy3_mtv1_cog_college aoy4_mtv1_cog_college aoy5_mtv1_cog_college ///
	 pre_mtv2_cog_college mid_mtv2_cog_college post_mtv2_cog_college sl_mtv2_cog_college aoy1_mtv2_cog_college aoy2_mtv2_cog_college aoy3_mtv2_cog_college aoy4_mtv2_cog_college aoy5_mtv2_cog_college ///
     pre_mtv1_cog_control mid_mtv1_cog_control post_mtv1_cog_control sl_mtv1_cog_control aoy1_mtv1_cog_control aoy2_mtv1_cog_control aoy3_mtv1_cog_control aoy4_mtv1_cog_control aoy5_mtv1_cog_control ///
	 pre_mtv2_cog_control mid_mtv2_cog_control post_mtv2_cog_control sl_mtv2_cog_control aoy1_mtv2_cog_control aoy2_mtv2_cog_control aoy3_mtv2_cog_control aoy4_mtv2_cog_control aoy5_mtv2_cog_control ///
     pre_mtv1_cog_kinderprep mid_mtv1_cog_kinderprep post_mtv1_cog_kinderprep sl_mtv1_cog_kinderprep aoy1_mtv1_cog_kinderprep aoy2_mtv1_cog_kinderprep aoy3_mtv1_cog_kinderprep aoy4_mtv1_cog_kinderprep aoy5_mtv1_cog_kinderprep ///
	 pre_mtv2_cog_kinderprep mid_mtv2_cog_kinderprep post_mtv2_cog_kinderprep sl_mtv2_cog_kinderprep aoy1_mtv2_cog_kinderprep aoy2_mtv2_cog_kinderprep aoy3_mtv2_cog_kinderprep aoy4_mtv2_cog_kinderprep aoy5_mtv2_cog_kinderprep ///
     pre_mtv1_cog_pka mid_mtv1_cog_pka post_mtv1_cog_pka sl_mtv1_cog_pka aoy1_mtv1_cog_pka aoy2_mtv1_cog_pka aoy3_mtv1_cog_pka aoy4_mtv1_cog_pka aoy5_mtv1_cog_pka ///
	 pre_mtv2_cog_pka mid_mtv2_cog_pka post_mtv2_cog_pka sl_mtv2_cog_pka aoy1_mtv2_cog_pka aoy2_mtv2_cog_pka aoy3_mtv2_cog_pka aoy4_mtv2_cog_pka aoy5_mtv2_cog_pka ///
     pre_mtv1_cog_pkb mid_mtv1_cog_pkb post_mtv1_cog_pkb sl_mtv1_cog_pkb aoy1_mtv1_cog_pkb aoy2_mtv1_cog_pkb aoy3_mtv1_cog_pkb aoy4_mtv1_cog_pkb aoy5_mtv1_cog_pkb ///
	 pre_mtv2_cog_pkb mid_mtv2_cog_pkb post_mtv2_cog_pkb sl_mtv2_cog_pkb aoy1_mtv2_cog_pkb aoy2_mtv2_cog_pkb aoy3_mtv2_cog_pkb aoy4_mtv2_cog_pkb aoy5_mtv2_cog_pkb ///
     pre_mtv1_cog_preschool mid_mtv1_cog_preschool post_mtv1_cog_preschool sl_mtv1_cog_preschool aoy1_mtv1_cog_preschool aoy2_mtv1_cog_preschool aoy3_mtv1_cog_preschool aoy4_mtv1_cog_preschool aoy5_mtv1_cog_preschool ///
	 pre_mtv2_cog_preschool mid_mtv2_cog_preschool post_mtv2_cog_preschool sl_mtv2_cog_preschool aoy1_mtv2_cog_preschool aoy2_mtv2_cog_preschool aoy3_mtv2_cog_preschool aoy4_mtv2_cog_preschool aoy5_mtv2_cog_preschool ///
     pre_mtv1_cog_treated mid_mtv1_cog_treated post_mtv1_cog_treated sl_mtv1_cog_treated aoy1_mtv1_cog_treated aoy2_mtv1_cog_treated aoy3_mtv1_cog_treated aoy4_mtv1_cog_treated aoy5_mtv1_cog_treated ///
	 pre_mtv2_cog_treated mid_mtv2_cog_treated post_mtv2_cog_treated sl_mtv2_cog_treated aoy1_mtv2_cog_treated aoy2_mtv2_cog_treated aoy3_mtv2_cog_treated aoy4_mtv2_cog_treated aoy5_mtv2_cog_treated /// 
	 pre_mcv1_cog_cash mid_mcv1_cog_cash post_mcv1_cog_cash sl_mcv1_cog_cash aoy1_mcv1_cog_cash aoy2_mcv1_cog_cash aoy3_mcv1_cog_cash aoy4_mcv1_cog_cash aoy5_mcv1_cog_cash ///
	 pre_mcv2_cog_cash mid_mcv2_cog_cash post_mcv2_cog_cash sl_mcv2_cog_cash aoy1_mcv2_cog_cash aoy2_mcv2_cog_cash aoy3_mcv2_cog_cash aoy4_mcv2_cog_cash aoy5_mcv2_cog_cash ///
     pre_mcv1_cog_cogx mid_mcv1_cog_cogx post_mcv1_cog_cogx sl_mcv1_cog_cogx aoy1_mcv1_cog_cogx aoy2_mcv1_cog_cogx aoy3_mcv1_cog_cogx aoy4_mcv1_cog_cogx aoy5_mcv1_cog_cogx ///
	 pre_mcv2_cog_cogx mid_mcv2_cog_cogx post_mcv2_cog_cogx sl_mcv2_cog_cogx aoy1_mcv2_cog_cogx aoy2_mcv2_cog_cogx aoy3_mcv2_cog_cogx aoy4_mcv2_cog_cogx aoy5_mcv2_cog_cogx ///
     pre_mcv1_cog_college mid_mcv1_cog_college post_mcv1_cog_college sl_mcv1_cog_college aoy1_mcv1_cog_college aoy2_mcv1_cog_college aoy3_mcv1_cog_college aoy4_mcv1_cog_college aoy5_mcv1_cog_college ///
	 pre_mcv2_cog_college mid_mcv2_cog_college post_mcv2_cog_college sl_mcv2_cog_college aoy1_mcv2_cog_college aoy2_mcv2_cog_college aoy3_mcv2_cog_college aoy4_mcv2_cog_college aoy5_mcv2_cog_college ///
     pre_mcv1_cog_control mid_mcv1_cog_control post_mcv1_cog_control sl_mcv1_cog_control aoy1_mcv1_cog_control aoy2_mcv1_cog_control aoy3_mcv1_cog_control aoy4_mcv1_cog_control aoy5_mcv1_cog_control ///
	 pre_mcv2_cog_control mid_mcv2_cog_control post_mcv2_cog_control sl_mcv2_cog_control aoy1_mcv2_cog_control aoy2_mcv2_cog_control aoy3_mcv2_cog_control aoy4_mcv2_cog_control aoy5_mcv2_cog_control ///
     pre_mcv1_cog_kinderprep mid_mcv1_cog_kinderprep post_mcv1_cog_kinderprep sl_mcv1_cog_kinderprep aoy1_mcv1_cog_kinderprep aoy2_mcv1_cog_kinderprep aoy3_mcv1_cog_kinderprep aoy4_mcv1_cog_kinderprep aoy5_mcv1_cog_kinderprep ///
	 pre_mcv2_cog_kinderprep mid_mcv2_cog_kinderprep post_mcv2_cog_kinderprep sl_mcv2_cog_kinderprep aoy1_mcv2_cog_kinderprep aoy2_mcv2_cog_kinderprep aoy3_mcv2_cog_kinderprep aoy4_mcv2_cog_kinderprep aoy5_mcv2_cog_kinderprep ///
     pre_mcv1_cog_pka mid_mcv1_cog_pka post_mcv1_cog_pka sl_mcv1_cog_pka aoy1_mcv1_cog_pka aoy2_mcv1_cog_pka aoy3_mcv1_cog_pka aoy4_mcv1_cog_pka aoy5_mcv1_cog_pka ///
	 pre_mcv2_cog_pka mid_mcv2_cog_pka post_mcv2_cog_pka sl_mcv2_cog_pka aoy1_mcv2_cog_pka aoy2_mcv2_cog_pka aoy3_mcv2_cog_pka aoy4_mcv2_cog_pka aoy5_mcv2_cog_pka ///
     pre_mcv1_cog_pkb mid_mcv1_cog_pkb post_mcv1_cog_pkb sl_mcv1_cog_pkb aoy1_mcv1_cog_pkb aoy2_mcv1_cog_pkb aoy3_mcv1_cog_pkb aoy4_mcv1_cog_pkb aoy5_mcv1_cog_pkb ///
	 pre_mcv2_cog_pkb mid_mcv2_cog_pkb post_mcv2_cog_pkb sl_mcv2_cog_pkb aoy1_mcv2_cog_pkb aoy2_mcv2_cog_pkb aoy3_mcv2_cog_pkb aoy4_mcv2_cog_pkb aoy5_mcv2_cog_pkb ///
     pre_mcv1_cog_preschool mid_mcv1_cog_preschool post_mcv1_cog_preschool sl_mcv1_cog_preschool aoy1_mcv1_cog_preschool aoy2_mcv1_cog_preschool aoy3_mcv1_cog_preschool aoy4_mcv1_cog_preschool aoy5_mcv1_cog_preschool ///
	 pre_mcv2_cog_preschool mid_mcv2_cog_preschool post_mcv2_cog_preschool sl_mcv2_cog_preschool aoy1_mcv2_cog_preschool aoy2_mcv2_cog_preschool aoy3_mcv2_cog_preschool aoy4_mcv2_cog_preschool aoy5_mcv2_cog_preschool ///
     pre_mcv1_cog_treated mid_mcv1_cog_treated post_mcv1_cog_treated sl_mcv1_cog_treated aoy1_mcv1_cog_treated aoy2_mcv1_cog_treated aoy3_mcv1_cog_treated aoy4_mcv1_cog_treated aoy5_mcv1_cog_treated ///
	 pre_mcv2_cog_treated mid_mcv2_cog_treated post_mcv2_cog_treated sl_mcv2_cog_treated aoy1_mcv2_cog_treated aoy2_mcv2_cog_treated aoy3_mcv2_cog_treated aoy4_mcv2_cog_treated aoy5_mcv2_cog_treated
	*/




	 
	reshape long @_cash @_cogx @_college @_control @_kinderprep @_pka @_pkb @_preschool @_treated ///
			@_v1std_cog_cash @_v1std_cog_cogx @_v1std_cog_college @_v1std_cog_control @_v1std_cog_kinderprep @_v1std_cog_pka @_v1std_cog_pkb @_v1std_cog_preschool @_v1std_cog_treated ///
			@_v2std_cog_cash @_v2std_cog_cogx @_v2std_cog_college @_v2std_cog_control @_v2std_cog_kinderprep @_v2std_cog_pka @_v2std_cog_pkb @_v2std_cog_preschool @_v2std_cog_treated ///
			mis@_v1std_cog_cash mis@_v1std_cog_cogx mis@_v1std_cog_college mis@_v1std_cog_control mis@_v1std_cog_kinderprep mis@_v1std_cog_pka mis@_v1std_cog_pkb mis@_v1std_cog_preschool mis@_v1std_cog_treated ///
			mis@_v2std_cog_cash mis@_v2std_cog_cogx mis@_v2std_cog_college mis@_v2std_cog_control mis@_v2std_cog_kinderprep mis@_v2std_cog_pka mis@_v2std_cog_pkb mis@_v2std_cog_preschool mis@_v2std_cog_treated ///
			@_v1std_ncog_cash @_v1std_ncog_cogx @_v1std_ncog_college @_v1std_ncog_control @_v1std_ncog_kinderprep @_v1std_ncog_pka @_v1std_ncog_pkb @_v1std_ncog_preschool @_v1std_ncog_treated ///
			@_v2std_ncog_cash @_v2std_ncog_cogx @_v2std_ncog_college @_v2std_ncog_control @_v2std_ncog_kinderprep @_v2std_ncog_pka @_v2std_ncog_pkb @_v2std_ncog_preschool @_v2std_ncog_treated ///
			mis@_v1std_ncog_cash mis@_v1std_ncog_cogx mis@_v1std_ncog_college mis@_v1std_ncog_control mis@_v1std_ncog_kinderprep mis@_v1std_ncog_pka mis@_v1std_ncog_pkb mis@_v1std_ncog_preschool mis@_v1std_ncog_treated ///
			mis@_v2std_ncog_cash mis@_v2std_ncog_cogx mis@_v2std_ncog_college mis@_v2std_ncog_control mis@_v2std_ncog_kinderprep mis@_v2std_ncog_pka mis@_v2std_ncog_pkb mis@_v2std_ncog_preschool mis@_v2std_ncog_treated ///
			@_mt_cash @_mt_cogx @_mt_college @_mt_control @_mt_kinderprep @_mt_pka @_mt_pkb @_mt_preschool @_mt_treated ///
			@_mc_cash @_mc_cogx @_mc_college @_mc_control @_mc_kinderprep @_mc_pka @_mc_pkb @_mc_preschool @_mc_treated, i(origin_gecc_id randomization_ori) j(test) s
			
			/*@_mtv1_cog_cash @_mtv1_cog_cogx @_mtv1_cog_college @_mtv1_cog_control @_mtv1_cog_kinderprep @_mtv1_cog_pka @_mtv1_cog_pkb @_mtv1_cog_preschool @_mtv1_cog_treated ///
			@_mtv2_cog_cash @_mtv2_cog_cogx @_mtv2_cog_college @_mtv2_cog_control @_mtv2_cog_kinderprep @_mtv2_cog_pka @_mtv2_cog_pkb @_mtv2_cog_preschool @_mtv2_cog_treated ///
			@_mcv1_cog_cash @_mcv1_cog_cogx @_mcv1_cog_college @_mcv1_cog_control @_mcv1_cog_kinderprep @_mcv1_cog_pka @_mcv1_cog_pkb @_mcv1_cog_preschool @_mcv1_cog_treated ///
			@_mcv2_cog_cash @_mcv2_cog_cogx @_mcv2_cog_college @_mcv2_cog_control @_mcv2_cog_kinderprep @_mcv2_cog_pka @_mcv2_cog_pkb @_mcv2_cog_preschool @_mcv2_cog_treated
			*/
	rename _* *
}
	foreach version in v1 v2 {
	foreach score in cog ncog {
	*av_score_control is the average score of all control neighbors for whom we have a score
	gen `version'av`score'score_control =  `version'std_`score'_control / (control - mis_`version'std_`score'_control) 
	*av_score_treated is the average score of all treated neighbors for whom we have a score
	gen `version'av`score'score_treated = `version'std_`score'_treated / (treated - mis_`version'std_`score'_treated)
	*av_score_notkindertreated is the average score of all treated neighbors for whom we have a score except for kinderprep
	gen `version'av`score'score_nktreated = (`version'std_`score'_treated - `version'std_`score'_kinderprep)/ (treated - kinderprep - mis_`version'std_`score'_treated + mis_`version'std_`score'_kinderprep)
	

	}
	}

	*av_month_incontrol is the average number months certain types of neighbors have spent in control : this is defined for
	*control neighbors, treated neighbors, and treated without kinderprep
	gen av_month_incontrol_control = mc_control/control
	gen av_month_incontrol_treated = mc_treated/treated
	gen av_month_incontrol_nktreated = (mc_treated - mc_kinderprep)/ (treated - kinderprep)
	*av_month_intreat is the average number months certain types of neighbors have spent in treatment : this is defined for
	*control neighbors, treated neighbors, and treated without kinderprep
	gen av_month_intreat_treated = mt_treated/treated
	gen av_month_intreat_nkreated = (mt_treated - mt_kinderprep)/ (treated - kinderprep)
	gen av_month_intreat_control = mt_control/control
	
	

	keep origin_gecc_id randomization_ori test cash cogx college control kinderprep pka pkb preschool treated ///
	v1avcogscore_control v1avncogscore_control v2avcogscore_control v2avncogscore_treated v1avcogscore_treated v1avncogscore_treated v2avcogscore_treated v2avncogscore_treated /// 
	v1avcogscore_nktreated v1avncogscore_nktreated v2avcogscore_nktreated v2avncogscore_nktreated ///	
	av_month_incontrol_control av_month_incontrol_treated av_month_incontrol_nktreated ///
	av_month_intreat_control av_month_intreat_treated av_month_intreat_nktreated 
	

	foreach var in cash-av_month_intreat_nktreated {
		rename `var' `var'_`d'
	}
	
	cd "$repository/data_sets/generated"
	save all_years_circle_`d', replace
		
}
